<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crucigrama Matemático</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@100..900&display=swap" rel="stylesheet">
</head>
<body>

    <h2>Crucigrama Matemático</h2>
    <div class="pagina">
        <div id="crucigrama" class="crucigrama">
            <!-- Aquí se generará el crucigrama dinámicamente -->
        </div>
    </div>
    
    <div class="botonVer">
        <button id="btnVerificar" class="boton-verificar" onclick="verificarCrucigrama()">Verificar</button>
        <button id="btnNuevoCrucigrama" class="boton-verificar" onclick="generarCrucigrama()" disabled>Generar Nuevo Crucigrama</button>
    </div>
    
    <div id="resultado"></div>

    <script>
        let respuestasCorrectas = {};

        // Función para generar un número aleatorio entre 1 y 50
        function generarNumeroAleatorio() {
            return Math.floor(Math.random() * 50) + 1;
        }

        function generarCrucigrama() {
            const crucigramaDiv = document.getElementById("crucigrama");
            crucigramaDiv.innerHTML = ''; // Limpiar el crucigrama anterior
            respuestasCorrectas = {}; // Reiniciar respuestas correctas
            
            // Generar una operación aleatoria: num1 * num2 = resultado
            const num1 = generarNumeroAleatorio();
            const num2 = generarNumeroAleatorio();
            const resultadoMultiplicacion = num1 * num2;

            // Generar otra operación aleatoria: num3 - num4 = resultado
            const num3 = generarNumeroAleatorio();
            const num4 = generarNumeroAleatorio();
            const resultadoResta = num3 - num4;

            // Estructura del crucigrama
            const estructura = [
                { id: "c1", value: num1, readonly: true },
                { id: "c2", value: "*", readonly: true },
                { id: "c3", value: "", readonly: false }, // respuesta que el usuario debe llenar
                { id: "c4", value: "=", readonly: true },
                { id: "c5", value: resultadoMultiplicacion, readonly: true },

                { id: "c6", value: "", readonly: false }, // respuesta que el usuario debe llenar
                { id: "c7", value: "-", readonly: true },
                { id: "c8", value: num4, readonly: true },
                { id: "c9", value: "=", readonly: true },
                { id: "c10", value: resultadoResta, readonly: true }
            ];

            // Definir las respuestas correctas
            respuestasCorrectas["c3"] = num2.toString();
            respuestasCorrectas["c6"] = num3.toString();

            // Generar el HTML para el crucigrama
            estructura.forEach(celda => {
                const input = document.createElement("input");
                input.type = "text";
                input.maxLength = 2;
                input.id = celda.id;
                if (celda.readonly) {
                    input.value = celda.value;
                    input.readOnly = true;
                }
                crucigramaDiv.appendChild(input);
            });

            // Desactivar el botón de nuevo crucigrama hasta que el actual se resuelva
            document.getElementById("btnNuevoCrucigrama").disabled = true;
            document.getElementById("resultado").textContent = '';
        }

        function verificarCrucigrama() {
            let correcto = true;

            // Verificar cada respuesta
            for (let id in respuestasCorrectas) {
                const input = document.getElementById(id);
                if (input.value !== respuestasCorrectas[id]) {
                    input.style.backgroundColor = "red";
                    correcto = false;
                } else {
                    input.style.backgroundColor = "lightgreen";
                }
            }

            const resultado = document.getElementById("resultado");
            if (correcto) {
                resultado.textContent = "¡Felicidades! Has completado el crucigrama correctamente.";
                resultado.style.color = "green";
                document.getElementById("btnNuevoCrucigrama").disabled = false;
            } else {
                resultado.textContent = "Algunas respuestas son incorrectas. ¡Inténtalo de nuevo!";
                resultado.style.color = "red";
            }
        }

        // Generar un crucigrama al cargar la página
        window.onload = generarCrucigrama;
    </script>

</body>

<footer>
    <!-- El contenido de tu footer aquí -->
</footer>
</html>
